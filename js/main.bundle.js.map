{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/random.js","webpack:///./src/js/addResources.js","webpack:///./src/js/conditionTask.js","webpack:///./src/js/classTask.js","webpack:///./src/js/classHit.js","webpack:///./src/js/classPlayer.js","webpack:///./src/js/classEnemy.js","webpack:///./src/js/classSprite.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///./node_modules/dialog-polyfill/dialog-polyfill.js","webpack:///./src/js/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","e","t","leng","Math","floor","random","resourceCache","readyCallbacks","_load","url","img","Image","onload","isReady","forEach","func","src","ready","keys","key","window","resources","load","urlOrArr","Array","onReady","push","console","log","conditionTaskTranslation","cat","dog","pen","pencil","bird","snake","spider","sky","sun","table","paper","book","green","gray","red","blue","yellow","word","mouse","sheep","duck","chicken","horse","goat","pear","banana","lemon","tomato","beet","carrot","cabbage","potato","eraser","envelope","soup","bread","cheese","teapot","spoon","knife","length","writable","_conditionTask","Task","type","question","condition","correctAnswer","answer","this","taskQuestion","document","getElementById","taskCondition","innerHTML","words","wordsLeng","_random2","Hit","pos","sprite","winner","points","dt","canvasHit","width","newPos","Player","record","health","isAlive","element","playerName","trim","textContent","localStorage","setItem","Date","now","Enemy","legs","rightArm","body","leftArm","head","weapons","step","coordinat","Sprite","size","speed","frames","dir","once","_index","ctx","frame","max","idx","done","x","y","drawImage","Error","__WEBPACK_AMD_DEFINE_RESULT__","supportCustomEvent","CustomEvent","findNearestDialog","el","localName","parentElement","safeBlur","blur","inNodeList","nodeList","node","isFormMethodDialog","hasAttribute","getAttribute","toLowerCase","dialogPolyfillInfo","dialog","dialog_","replacedStyleTop_","openAsModal_","setAttribute","show","bind","showModal","close","returnValue","MutationObserver","maybeHideModal","observe","attributes","attributeFilter","timeout","removed","cb","downgradeModal","delayModel","ev","target","cand","substr","clearTimeout","setTimeout","addEventListener","set","setOpen","backdrop_","createElement","className","backdropClick_","event","createEvent","initCustomEvent","bubbles","cancelable","detail","Event","contains","style","zIndex","top","parentNode","removeChild","dialogPolyfill","dm","removeDialog","removeAttribute","focus","fake","insertBefore","firstChild","tabIndex","redirectedEvent","initMouseEvent","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","dispatchEvent","stopPropagation","focus_","querySelector","query","map","join","activeElement","updateZIndex","dialogZ","backdropZ","open","pushDialog","getComputedStyle","invalid","k","ok","opacity","isolation","position","webkitOverflowScrolling","warn","needsCentering","reposition","nextSibling","opt_returnValue","closeEvent","scrollTop","documentElement","topValue","innerHeight","offsetHeight","isInlinePositionSetByStylesheet","styleSheets","styleSheet","cssRules","j","rule","selectedNodes","querySelectorAll","selectorText","cssTop","getPropertyValue","cssBottom","bottom","forceRegisterDialog","HTMLDialogElement","registerDialog","DialogManager","pendingDialogStack","checkDOM","checkDOM_","overlay","forwardTab_","handleKey_","handleFocus_","zIndexLow_","zIndexHigh_","mo_","records","rec","removedNodes","Element","concat","blockDocument","childList","subtree","unblockDocument","removeEventListener","disconnect","updateStacking","dpi","last","appendChild","containedByTopDialog_","candidate","preventDefault","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","keyCode","cancelEvent","slice","indexOf","allowed","unshift","index","splice","formSubmitter","useValue","testForm","method","methodDescriptor","getOwnPropertyDescriptor","HTMLFormElement","realGet","realSet","v","defaultPrevented","form","offsetX","offsetY","nativeFormSubmit","submit","u","a","_addResources2","buttomStart","screenStart","screenDuel","progressHealthPlayer","progressHealthEnemy","removeAddContent","content","classList","toggle","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","gameArea","blockHit","canvas","getContext","height","canvas2","ctx2","ctxHit","resize","innerWidth","scrollbar","player","enemyFirstName","enemySecondName","enemyThirdName","getEnemyName","randomFirstName","randomSecondName","randomThirdName","enemyNameBlock","enemy","addEnemyName","task","hit","lastTime","main","addPlayerName","playerNameBlock","addNamesForModal","openScreenModal","screenModal","modalNamePlayer","modalNameEnemy","managmentHit","screenTask","taskAnswer","buttonAnswer","imageForHit","changeHealth","num","person","count","id","setInterval","clearInterval","matches","elementHit","image","translation","addTask","screenScore","createScoresTable","recordsArray","allPlayers","getItem","split","Number","array","_ref","recordsTable","tableRow","playerScore","score","isEnemyDies","resultAnswer","showResultAnswer","toString","some","setLocalsorage","entity","update","save","translate","clearRect","render","restore","playerSpeed","animateHit","animateEnemy"],"mappings":"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","file":"./js/main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","export default function random(leng) {\n    const randomElement = Math.floor(Math.random() * leng);\n    return randomElement;\n}\n\n","export default function resources() {\n    const resourceCache = {};\n    const loading = [];\n    const readyCallbacks = [];\n\n    // Load an image url or an array of image urls\n    function load(urlOrArr) {\n        if (urlOrArr instanceof Array) {\n            urlOrArr.forEach((url) => {\n                _load(url);\n            });\n        } else {\n            _load(urlOrArr);\n        }\n    }\n\n    function _load(url) {\n        if (resourceCache[url]) {\n            return resourceCache[url];\n        }\n\n        const img = new Image();\n        img.onload = function () {\n            resourceCache[url] = img;\n\n            if (isReady()) {\n                readyCallbacks.forEach((func) => { func(); });\n            }\n        };\n        resourceCache[url] = false;\n        img.src = url;\n\n    }\n\n    function get(url) {\n        return resourceCache[url];\n    }\n\n    function isReady() {\n        let ready = true;\n        Object.keys(resourceCache).forEach((key) => {\n            if (Object.prototype.hasOwnProperty.call(resourceCache, key) && //  if (resourceCache.hasOwnProperty(k)\n               !resourceCache[key]) {\n                ready = false;\n            }\n        });\n        return ready;\n    }\n\n    function onReady(func) {\n        readyCallbacks.push(func);\n    }\n\n    window.resources = {\n        load,\n        get,\n        onReady,\n        isReady,\n    };\n    console.log('resourseLoad');\n}\n","export const conditionTaskTranslation = {\n    cat: ['кот', 'кошка', 'котик'],\n    dog: ['собака', 'пес', 'пёс', 'собачка'],\n    pen: ['ручка'],\n    pencil: ['карандаш'],\n    bird: ['птица', 'птичка'],\n    snake: ['змея', 'змей', 'змейка'],\n    spider: ['паук', 'паучек'],\n    sky: ['небо'],\n    sun: ['солнце', 'солнышко'],\n    table: ['стол'],\n    paper: ['бумага'],\n    book: ['книга', 'книжка'],\n    green: ['зеленый', 'зелёный'],\n    gray: ['серый'],\n    red: ['красный', 'красненький'],\n    blue: ['синий'],\n    yellow: ['желтый'],\n    word: ['слово'],\n    mouse: ['мышка', 'мышь', 'мышенок', 'мышёнок'],\n    sheep: ['овечка', 'овца'],\n    duck: ['утка', 'уточка'],\n    chicken: ['цыпленок', 'цыплёнок'],\n    horse: ['конь', 'лошадь'],\n    goat: ['коза', 'козачка'],\n    pear: ['груша'],\n    banana: ['банан'],\n    lemon: ['лимон'],\n    tomato: ['помидор', 'помидорка'],\n    beet: ['свекла', 'свёкла'],\n    carrot: ['морковь', 'морковка'],\n    cabbage: ['капуста'],\n    potato: ['картошка'],\n    eraser: ['ластик'],\n    envelope: ['конверт'],\n    soup: ['суп', 'супчик'],\n    bread: ['хлеб', 'хлебушек'],\n    cheese: ['сыр'],\n    teapot: ['чайник'],\n    spoon: ['ложка'],\n    knife: ['нож', 'ножик'],\n};\n\n","import { conditionTaskTranslation } from './conditionTask.js';\nimport random from './random.js';\n\nexport default class Task {\n    constructor(type, question, condition, correctAnswer, answer) {\n        this.type = type;\n        this.question = question;\n        this.condition = condition;\n        this.correctAnswer = correctAnswer;\n        this.answer = answer;\n    }\n\n    addTask() {\n        const taskQuestion = document.getElementById('task__question');\n        const taskCondition = document.getElementById('task__condition');\n        taskQuestion.innerHTML = this.question;\n        taskCondition.innerHTML = this.condition;\n        this.answer = 'твой ответ';\n    }\n\n    translation() {\n        this.type = 'translation';\n        this.question = 'Переведи английское слово на русский язык';\n        const words = Object.keys(conditionTaskTranslation);\n        const wordsLeng = words.length;\n        this.condition = words[random(wordsLeng)];\n        this.correctAnswer = conditionTaskTranslation[this.condition];\n    }\n}\n","export default class Hit {\n    constructor(name, pos, sprite, winner, points) {\n        this.name = name;\n        this.pos = pos;\n        this.sprite = sprite;\n        this.winner = winner || 'player';\n        this.points = points || 20;\n    }\n\n    animateHit(dt, canvasHit) {\n        if (this.winner === 'player') {\n            if (this.pos[0] < canvasHit.width - 150) {\n                this.pos[0] += 200 * dt;\n            } else {\n                this.pos[0] = 0;\n            }\n        }\n        if (this.winner === 'enemy') {\n            if (this.pos[0] > 0) {\n                this.pos[0] -= 200 * dt;\n            } else {\n                this.pos[0] = canvasHit.width - 150;\n            }\n        }\n    }\n\n    changeAnimateHit(newPos) {\n        this.pos = newPos;\n\n    }\n\n}\n","export default class Player {\n    constructor(name, pos, sprite, record, health, isAlive) {\n        this.name = name || 'Неизвестный герой';\n        this.pos = pos;\n        this.sprite = sprite;\n        this.record = record || 0;\n        this.health = health || 100;\n        this.isAlive = isAlive || true;\n    }\n\n    addPlayerName(element) {\n        const playerName = document.getElementById('add__player__name').value;\n        if (playerName.trim() !== '') {\n            this.name = playerName;\n        }\n        element.textContent = this.name;\n    }\n\n    setLocalsorage() {\n        localStorage.setItem(`player${Date.now()}`, `${this.name},${this.record}`);\n    }\n}\n","export default class Enemy {\n    constructor(name, legs, rightArm, body, leftArm, head, weapons, pos, health) {\n        this.name = name;\n        this.legs = legs;\n        this.rightArm = rightArm;\n        this.body = body;\n        this.leftArm = leftArm;\n        this.head = head;\n        this.weapons = weapons;\n        this.pos = pos || [0, 5];\n        this.health = health || 100;\n        this.isAlive = true;\n    }\n\n    addEnemyName(element) {\n        element.textContent = this.name;\n    }\n\n    animateEnemy(dt) {\n        let step = 0;\n        const stopStep = 0;\n\n        if (this.pos[1] > (stopStep)) {\n            this.head.coordinat[1] += 0.2 * dt;\n            this.head.coordinat[0] -= 2 * dt;\n            this.rightArm.coordinat[1] += 3 * dt;\n            this.rightArm.coordinat[0] += 3 * dt;\n            this.leftArm.coordinat[1] -= 3 * dt;\n            this.leftArm.coordinat[0] -= 3 * dt;\n            this.weapons.coordinat[1] += 5 * dt;\n            this.weapons.coordinat[0] += 5 * dt;\n            this.pos[1] -= 1;\n            step++;\n        } else {\n            this.head.coordinat[1] -= 0.2 * dt;\n            this.head.coordinat[0] += 2 * dt;\n            this.rightArm.coordinat[1] -= 3 * dt;\n            this.rightArm.coordinat[0] -= 3 * dt;\n            this.leftArm.coordinat[1] += 3 * dt;\n            this.leftArm.coordinat[0] += 3 * dt;\n            this.weapons.coordinat[1] -= 5 * dt;\n            this.weapons.coordinat[0] -= 5 * dt;\n            this.pos[1] += 1;\n            step--;\n        }\n\n        if (this.pos[1] === stopStep) {\n            if (step < 0) {\n                this.pos[1] += 100;\n            } else {\n                this.pos[1] -= 100;\n            }\n        }\n    }\n}\n","import resourseLoad from './addResources.js';\n\nresourseLoad();\n\nexport default class Sprite {\n    constructor(url, pos, size, speed, frames, coordinat, dir, once) {\n        this.url = url;\n        this.pos = pos;\n        this.size = size;\n        this.speed = typeof speed === 'number' ? speed : 0;\n        this.frames = frames;\n        this._index = 0;\n        this.coordinat = coordinat;\n        this.dir = dir || 'horizontal';\n        this.once = once;\n    }\n\n    update(dt) {\n        this._index += this.speed * dt;\n    }\n\n    render(ctx) {\n        let frame;\n\n        if (this.speed > 0) {\n            const max = this.frames.length;\n            const idx = Math.floor(this._index);\n            frame = this.frames[idx % max];\n\n            if (this.once && idx >= max) {\n                this.done = true;\n                return;\n            }\n        } else {\n            frame = 0;\n        }\n\n        let x = this.pos[0];\n        let y = this.pos[1];\n\n        if (this.dir === 'vertical') {\n            y += frame * this.size[1];\n        } else {\n            x += frame * this.size[0];\n        }\n\n        ctx.drawImage(\n            window.resources.get(this.url),\n            x, y,\n            this.size[0], this.size[1],\n            this.coordinat[0], this.coordinat[1],\n            this.size[0], this.size[1]\n        );\n    }\n}\n","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n","(function() {\n\n  // nb. This is for IE10 and lower _only_.\n  var supportCustomEvent = window.CustomEvent;\n  if (!supportCustomEvent || typeof supportCustomEvent === 'object') {\n    supportCustomEvent = function CustomEvent(event, x) {\n      x = x || {};\n      var ev = document.createEvent('CustomEvent');\n      ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);\n      return ev;\n    };\n    supportCustomEvent.prototype = window.Event.prototype;\n  }\n\n  /**\n   * @param {Element} el to check for stacking context\n   * @return {boolean} whether this el or its parents creates a stacking context\n   */\n  function createsStackingContext(el) {\n    while (el && el !== document.body) {\n      var s = window.getComputedStyle(el);\n      var invalid = function(k, ok) {\n        return !(s[k] === undefined || s[k] === ok);\n      }\n      if (s.opacity < 1 ||\n          invalid('zIndex', 'auto') ||\n          invalid('transform', 'none') ||\n          invalid('mixBlendMode', 'normal') ||\n          invalid('filter', 'none') ||\n          invalid('perspective', 'none') ||\n          s['isolation'] === 'isolate' ||\n          s.position === 'fixed' ||\n          s.webkitOverflowScrolling === 'touch') {\n        return true;\n      }\n      el = el.parentElement;\n    }\n    return false;\n  }\n\n  /**\n   * Finds the nearest <dialog> from the passed element.\n   *\n   * @param {Element} el to search from\n   * @return {HTMLDialogElement} dialog found\n   */\n  function findNearestDialog(el) {\n    while (el) {\n      if (el.localName === 'dialog') {\n        return /** @type {HTMLDialogElement} */ (el);\n      }\n      el = el.parentElement;\n    }\n    return null;\n  }\n\n  /**\n   * Blur the specified element, as long as it's not the HTML body element.\n   * This works around an IE9/10 bug - blurring the body causes Windows to\n   * blur the whole application.\n   *\n   * @param {Element} el to blur\n   */\n  function safeBlur(el) {\n    if (el && el.blur && el !== document.body) {\n      el.blur();\n    }\n  }\n\n  /**\n   * @param {!NodeList} nodeList to search\n   * @param {Node} node to find\n   * @return {boolean} whether node is inside nodeList\n   */\n  function inNodeList(nodeList, node) {\n    for (var i = 0; i < nodeList.length; ++i) {\n      if (nodeList[i] === node) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * @param {HTMLFormElement} el to check\n   * @return {boolean} whether this form has method=\"dialog\"\n   */\n  function isFormMethodDialog(el) {\n    if (!el || !el.hasAttribute('method')) {\n      return false;\n    }\n    return el.getAttribute('method').toLowerCase() === 'dialog';\n  }\n\n  /**\n   * @param {!HTMLDialogElement} dialog to upgrade\n   * @constructor\n   */\n  function dialogPolyfillInfo(dialog) {\n    this.dialog_ = dialog;\n    this.replacedStyleTop_ = false;\n    this.openAsModal_ = false;\n\n    // Set a11y role. Browsers that support dialog implicitly know this already.\n    if (!dialog.hasAttribute('role')) {\n      dialog.setAttribute('role', 'dialog');\n    }\n\n    dialog.show = this.show.bind(this);\n    dialog.showModal = this.showModal.bind(this);\n    dialog.close = this.close.bind(this);\n\n    if (!('returnValue' in dialog)) {\n      dialog.returnValue = '';\n    }\n\n    if ('MutationObserver' in window) {\n      var mo = new MutationObserver(this.maybeHideModal.bind(this));\n      mo.observe(dialog, {attributes: true, attributeFilter: ['open']});\n    } else {\n      // IE10 and below support. Note that DOMNodeRemoved etc fire _before_ removal. They also\n      // seem to fire even if the element was removed as part of a parent removal. Use the removed\n      // events to force downgrade (useful if removed/immediately added).\n      var removed = false;\n      var cb = function() {\n        removed ? this.downgradeModal() : this.maybeHideModal();\n        removed = false;\n      }.bind(this);\n      var timeout;\n      var delayModel = function(ev) {\n        if (ev.target !== dialog) { return; }  // not for a child element\n        var cand = 'DOMNodeRemoved';\n        removed |= (ev.type.substr(0, cand.length) === cand);\n        window.clearTimeout(timeout);\n        timeout = window.setTimeout(cb, 0);\n      };\n      ['DOMAttrModified', 'DOMNodeRemoved', 'DOMNodeRemovedFromDocument'].forEach(function(name) {\n        dialog.addEventListener(name, delayModel);\n      });\n    }\n    // Note that the DOM is observed inside DialogManager while any dialog\n    // is being displayed as a modal, to catch modal removal from the DOM.\n\n    Object.defineProperty(dialog, 'open', {\n      set: this.setOpen.bind(this),\n      get: dialog.hasAttribute.bind(dialog, 'open')\n    });\n\n    this.backdrop_ = document.createElement('div');\n    this.backdrop_.className = 'backdrop';\n    this.backdrop_.addEventListener('click', this.backdropClick_.bind(this));\n  }\n\n  dialogPolyfillInfo.prototype = {\n\n    get dialog() {\n      return this.dialog_;\n    },\n\n    /**\n     * Maybe remove this dialog from the modal top layer. This is called when\n     * a modal dialog may no longer be tenable, e.g., when the dialog is no\n     * longer open or is no longer part of the DOM.\n     */\n    maybeHideModal: function() {\n      if (this.dialog_.hasAttribute('open') && document.body.contains(this.dialog_)) { return; }\n      this.downgradeModal();\n    },\n\n    /**\n     * Remove this dialog from the modal top layer, leaving it as a non-modal.\n     */\n    downgradeModal: function() {\n      if (!this.openAsModal_) { return; }\n      this.openAsModal_ = false;\n      this.dialog_.style.zIndex = '';\n\n      // This won't match the native <dialog> exactly because if the user set top on a centered\n      // polyfill dialog, that top gets thrown away when the dialog is closed. Not sure it's\n      // possible to polyfill this perfectly.\n      if (this.replacedStyleTop_) {\n        this.dialog_.style.top = '';\n        this.replacedStyleTop_ = false;\n      }\n\n      // Clear the backdrop and remove from the manager.\n      this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_);\n      dialogPolyfill.dm.removeDialog(this);\n    },\n\n    /**\n     * @param {boolean} value whether to open or close this dialog\n     */\n    setOpen: function(value) {\n      if (value) {\n        this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');\n      } else {\n        this.dialog_.removeAttribute('open');\n        this.maybeHideModal();  // nb. redundant with MutationObserver\n      }\n    },\n\n    /**\n     * Handles clicks on the fake .backdrop element, redirecting them as if\n     * they were on the dialog itself.\n     *\n     * @param {!Event} e to redirect\n     */\n    backdropClick_: function(e) {\n      if (!this.dialog_.hasAttribute('tabindex')) {\n        // Clicking on the backdrop should move the implicit cursor, even if dialog cannot be\n        // focused. Create a fake thing to focus on. If the backdrop was _before_ the dialog, this\n        // would not be needed - clicks would move the implicit cursor there.\n        var fake = document.createElement('div');\n        this.dialog_.insertBefore(fake, this.dialog_.firstChild);\n        fake.tabIndex = -1;\n        fake.focus();\n        this.dialog_.removeChild(fake);\n      } else {\n        this.dialog_.focus();\n      }\n\n      var redirectedEvent = document.createEvent('MouseEvents');\n      redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window,\n          e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey,\n          e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);\n      this.dialog_.dispatchEvent(redirectedEvent);\n      e.stopPropagation();\n    },\n\n    /**\n     * Focuses on the first focusable element within the dialog. This will always blur the current\n     * focus, even if nothing within the dialog is found.\n     */\n    focus_: function() {\n      // Find element with `autofocus` attribute, or fall back to the first form/tabindex control.\n      var target = this.dialog_.querySelector('[autofocus]:not([disabled])');\n      if (!target && this.dialog_.tabIndex >= 0) {\n        target = this.dialog_;\n      }\n      if (!target) {\n        // Note that this is 'any focusable area'. This list is probably not exhaustive, but the\n        // alternative involves stepping through and trying to focus everything.\n        var opts = ['button', 'input', 'keygen', 'select', 'textarea'];\n        var query = opts.map(function(el) {\n          return el + ':not([disabled])';\n        });\n        // TODO(samthor): tabindex values that are not numeric are not focusable.\n        query.push('[tabindex]:not([disabled]):not([tabindex=\"\"])');  // tabindex != \"\", not disabled\n        target = this.dialog_.querySelector(query.join(', '));\n      }\n      safeBlur(document.activeElement);\n      target && target.focus();\n    },\n\n    /**\n     * Sets the zIndex for the backdrop and dialog.\n     *\n     * @param {number} dialogZ\n     * @param {number} backdropZ\n     */\n    updateZIndex: function(dialogZ, backdropZ) {\n      if (dialogZ < backdropZ) {\n        throw new Error('dialogZ should never be < backdropZ');\n      }\n      this.dialog_.style.zIndex = dialogZ;\n      this.backdrop_.style.zIndex = backdropZ;\n    },\n\n    /**\n     * Shows the dialog. If the dialog is already open, this does nothing.\n     */\n    show: function() {\n      if (!this.dialog_.open) {\n        this.setOpen(true);\n        this.focus_();\n      }\n    },\n\n    /**\n     * Show this dialog modally.\n     */\n    showModal: function() {\n      if (this.dialog_.hasAttribute('open')) {\n        throw new Error('Failed to execute \\'showModal\\' on dialog: The element is already open, and therefore cannot be opened modally.');\n      }\n      if (!document.body.contains(this.dialog_)) {\n        throw new Error('Failed to execute \\'showModal\\' on dialog: The element is not in a Document.');\n      }\n      if (!dialogPolyfill.dm.pushDialog(this)) {\n        throw new Error('Failed to execute \\'showModal\\' on dialog: There are too many open modal dialogs.');\n      }\n\n      if (createsStackingContext(this.dialog_.parentElement)) {\n        console.warn('A dialog is being shown inside a stacking context. ' +\n            'This may cause it to be unusable. For more information, see this link: ' +\n            'https://github.com/GoogleChrome/dialog-polyfill/#stacking-context');\n      }\n\n      this.setOpen(true);\n      this.openAsModal_ = true;\n\n      // Optionally center vertically, relative to the current viewport.\n      if (dialogPolyfill.needsCentering(this.dialog_)) {\n        dialogPolyfill.reposition(this.dialog_);\n        this.replacedStyleTop_ = true;\n      } else {\n        this.replacedStyleTop_ = false;\n      }\n\n      // Insert backdrop.\n      this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling);\n\n      // Focus on whatever inside the dialog.\n      this.focus_();\n    },\n\n    /**\n     * Closes this HTMLDialogElement. This is optional vs clearing the open\n     * attribute, however this fires a 'close' event.\n     *\n     * @param {string=} opt_returnValue to use as the returnValue\n     */\n    close: function(opt_returnValue) {\n      if (!this.dialog_.hasAttribute('open')) {\n        throw new Error('Failed to execute \\'close\\' on dialog: The element does not have an \\'open\\' attribute, and therefore cannot be closed.');\n      }\n      this.setOpen(false);\n\n      // Leave returnValue untouched in case it was set directly on the element\n      if (opt_returnValue !== undefined) {\n        this.dialog_.returnValue = opt_returnValue;\n      }\n\n      // Triggering \"close\" event for any attached listeners on the <dialog>.\n      var closeEvent = new supportCustomEvent('close', {\n        bubbles: false,\n        cancelable: false\n      });\n      this.dialog_.dispatchEvent(closeEvent);\n    }\n\n  };\n\n  var dialogPolyfill = {};\n\n  dialogPolyfill.reposition = function(element) {\n    var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n    var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;\n    element.style.top = Math.max(scrollTop, topValue) + 'px';\n  };\n\n  dialogPolyfill.isInlinePositionSetByStylesheet = function(element) {\n    for (var i = 0; i < document.styleSheets.length; ++i) {\n      var styleSheet = document.styleSheets[i];\n      var cssRules = null;\n      // Some browsers throw on cssRules.\n      try {\n        cssRules = styleSheet.cssRules;\n      } catch (e) {}\n      if (!cssRules) { continue; }\n      for (var j = 0; j < cssRules.length; ++j) {\n        var rule = cssRules[j];\n        var selectedNodes = null;\n        // Ignore errors on invalid selector texts.\n        try {\n          selectedNodes = document.querySelectorAll(rule.selectorText);\n        } catch(e) {}\n        if (!selectedNodes || !inNodeList(selectedNodes, element)) {\n          continue;\n        }\n        var cssTop = rule.style.getPropertyValue('top');\n        var cssBottom = rule.style.getPropertyValue('bottom');\n        if ((cssTop && cssTop !== 'auto') || (cssBottom && cssBottom !== 'auto')) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  dialogPolyfill.needsCentering = function(dialog) {\n    var computedStyle = window.getComputedStyle(dialog);\n    if (computedStyle.position !== 'absolute') {\n      return false;\n    }\n\n    // We must determine whether the top/bottom specified value is non-auto.  In\n    // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but\n    // Firefox returns the used value. So we do this crazy thing instead: check\n    // the inline style and then go through CSS rules.\n    if ((dialog.style.top !== 'auto' && dialog.style.top !== '') ||\n        (dialog.style.bottom !== 'auto' && dialog.style.bottom !== '')) {\n      return false;\n    }\n    return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);\n  };\n\n  /**\n   * @param {!Element} element to force upgrade\n   */\n  dialogPolyfill.forceRegisterDialog = function(element) {\n    if (window.HTMLDialogElement || element.showModal) {\n      console.warn('This browser already supports <dialog>, the polyfill ' +\n          'may not work correctly', element);\n    }\n    if (element.localName !== 'dialog') {\n      throw new Error('Failed to register dialog: The element is not a dialog.');\n    }\n    new dialogPolyfillInfo(/** @type {!HTMLDialogElement} */ (element));\n  };\n\n  /**\n   * @param {!Element} element to upgrade, if necessary\n   */\n  dialogPolyfill.registerDialog = function(element) {\n    if (!element.showModal) {\n      dialogPolyfill.forceRegisterDialog(element);\n    }\n  };\n\n  /**\n   * @constructor\n   */\n  dialogPolyfill.DialogManager = function() {\n    /** @type {!Array<!dialogPolyfillInfo>} */\n    this.pendingDialogStack = [];\n\n    var checkDOM = this.checkDOM_.bind(this);\n\n    // The overlay is used to simulate how a modal dialog blocks the document.\n    // The blocking dialog is positioned on top of the overlay, and the rest of\n    // the dialogs on the pending dialog stack are positioned below it. In the\n    // actual implementation, the modal dialog stacking is controlled by the\n    // top layer, where z-index has no effect.\n    this.overlay = document.createElement('div');\n    this.overlay.className = '_dialog_overlay';\n    this.overlay.addEventListener('click', function(e) {\n      this.forwardTab_ = undefined;\n      e.stopPropagation();\n      checkDOM([]);  // sanity-check DOM\n    }.bind(this));\n\n    this.handleKey_ = this.handleKey_.bind(this);\n    this.handleFocus_ = this.handleFocus_.bind(this);\n\n    this.zIndexLow_ = 100000;\n    this.zIndexHigh_ = 100000 + 150;\n\n    this.forwardTab_ = undefined;\n\n    if ('MutationObserver' in window) {\n      this.mo_ = new MutationObserver(function(records) {\n        var removed = [];\n        records.forEach(function(rec) {\n          for (var i = 0, c; c = rec.removedNodes[i]; ++i) {\n            if (!(c instanceof Element)) {\n              continue;\n            } else if (c.localName === 'dialog') {\n              removed.push(c);\n            }\n            removed = removed.concat(c.querySelectorAll('dialog'));\n          }\n        });\n        removed.length && checkDOM(removed);\n      });\n    }\n  };\n\n  /**\n   * Called on the first modal dialog being shown. Adds the overlay and related\n   * handlers.\n   */\n  dialogPolyfill.DialogManager.prototype.blockDocument = function() {\n    document.documentElement.addEventListener('focus', this.handleFocus_, true);\n    document.addEventListener('keydown', this.handleKey_);\n    this.mo_ && this.mo_.observe(document, {childList: true, subtree: true});\n  };\n\n  /**\n   * Called on the first modal dialog being removed, i.e., when no more modal\n   * dialogs are visible.\n   */\n  dialogPolyfill.DialogManager.prototype.unblockDocument = function() {\n    document.documentElement.removeEventListener('focus', this.handleFocus_, true);\n    document.removeEventListener('keydown', this.handleKey_);\n    this.mo_ && this.mo_.disconnect();\n  };\n\n  /**\n   * Updates the stacking of all known dialogs.\n   */\n  dialogPolyfill.DialogManager.prototype.updateStacking = function() {\n    var zIndex = this.zIndexHigh_;\n\n    for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n      dpi.updateZIndex(--zIndex, --zIndex);\n      if (i === 0) {\n        this.overlay.style.zIndex = --zIndex;\n      }\n    }\n\n    // Make the overlay a sibling of the dialog itself.\n    var last = this.pendingDialogStack[0];\n    if (last) {\n      var p = last.dialog.parentNode || document.body;\n      p.appendChild(this.overlay);\n    } else if (this.overlay.parentNode) {\n      this.overlay.parentNode.removeChild(this.overlay);\n    }\n  };\n\n  /**\n   * @param {Element} candidate to check if contained or is the top-most modal dialog\n   * @return {boolean} whether candidate is contained in top dialog\n   */\n  dialogPolyfill.DialogManager.prototype.containedByTopDialog_ = function(candidate) {\n    while (candidate = findNearestDialog(candidate)) {\n      for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n        if (dpi.dialog === candidate) {\n          return i === 0;  // only valid if top-most\n        }\n      }\n      candidate = candidate.parentElement;\n    }\n    return false;\n  };\n\n  dialogPolyfill.DialogManager.prototype.handleFocus_ = function(event) {\n    if (this.containedByTopDialog_(event.target)) { return; }\n\n    event.preventDefault();\n    event.stopPropagation();\n    safeBlur(/** @type {Element} */ (event.target));\n\n    if (this.forwardTab_ === undefined) { return; }  // move focus only from a tab key\n\n    var dpi = this.pendingDialogStack[0];\n    var dialog = dpi.dialog;\n    var position = dialog.compareDocumentPosition(event.target);\n    if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n      if (this.forwardTab_) {  // forward\n        dpi.focus_();\n      } else {  // backwards\n        document.documentElement.focus();\n      }\n    } else {\n      // TODO: Focus after the dialog, is ignored.\n    }\n\n    return false;\n  };\n\n  dialogPolyfill.DialogManager.prototype.handleKey_ = function(event) {\n    this.forwardTab_ = undefined;\n    if (event.keyCode === 27) {\n      event.preventDefault();\n      event.stopPropagation();\n      var cancelEvent = new supportCustomEvent('cancel', {\n        bubbles: false,\n        cancelable: true\n      });\n      var dpi = this.pendingDialogStack[0];\n      if (dpi && dpi.dialog.dispatchEvent(cancelEvent)) {\n        dpi.dialog.close();\n      }\n    } else if (event.keyCode === 9) {\n      this.forwardTab_ = !event.shiftKey;\n    }\n  };\n\n  /**\n   * Finds and downgrades any known modal dialogs that are no longer displayed. Dialogs that are\n   * removed and immediately readded don't stay modal, they become normal.\n   *\n   * @param {!Array<!HTMLDialogElement>} removed that have definitely been removed\n   */\n  dialogPolyfill.DialogManager.prototype.checkDOM_ = function(removed) {\n    // This operates on a clone because it may cause it to change. Each change also calls\n    // updateStacking, which only actually needs to happen once. But who removes many modal dialogs\n    // at a time?!\n    var clone = this.pendingDialogStack.slice();\n    clone.forEach(function(dpi) {\n      if (removed.indexOf(dpi.dialog) !== -1) {\n        dpi.downgradeModal();\n      } else {\n        dpi.maybeHideModal();\n      }\n    });\n  };\n\n  /**\n   * @param {!dialogPolyfillInfo} dpi\n   * @return {boolean} whether the dialog was allowed\n   */\n  dialogPolyfill.DialogManager.prototype.pushDialog = function(dpi) {\n    var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;\n    if (this.pendingDialogStack.length >= allowed) {\n      return false;\n    }\n    if (this.pendingDialogStack.unshift(dpi) === 1) {\n      this.blockDocument();\n    }\n    this.updateStacking();\n    return true;\n  };\n\n  /**\n   * @param {!dialogPolyfillInfo} dpi\n   */\n  dialogPolyfill.DialogManager.prototype.removeDialog = function(dpi) {\n    var index = this.pendingDialogStack.indexOf(dpi);\n    if (index === -1) { return; }\n\n    this.pendingDialogStack.splice(index, 1);\n    if (this.pendingDialogStack.length === 0) {\n      this.unblockDocument();\n    }\n    this.updateStacking();\n  };\n\n  dialogPolyfill.dm = new dialogPolyfill.DialogManager();\n  dialogPolyfill.formSubmitter = null;\n  dialogPolyfill.useValue = null;\n\n  /**\n   * Installs global handlers, such as click listers and native method overrides. These are needed\n   * even if a no dialog is registered, as they deal with <form method=\"dialog\">.\n   */\n  if (window.HTMLDialogElement === undefined) {\n\n    /**\n     * If HTMLFormElement translates method=\"DIALOG\" into 'get', then replace the descriptor with\n     * one that returns the correct value.\n     */\n    var testForm = document.createElement('form');\n    testForm.setAttribute('method', 'dialog');\n    if (testForm.method !== 'dialog') {\n      var methodDescriptor = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, 'method');\n      if (methodDescriptor) {\n        // TODO: older iOS and older PhantomJS fail to return the descriptor here\n        var realGet = methodDescriptor.get;\n        methodDescriptor.get = function() {\n          if (isFormMethodDialog(this)) {\n            return 'dialog';\n          }\n          return realGet.call(this);\n        };\n        var realSet = methodDescriptor.set;\n        methodDescriptor.set = function(v) {\n          if (typeof v === 'string' && v.toLowerCase() === 'dialog') {\n            return this.setAttribute('method', v);\n          }\n          return realSet.call(this, v);\n        };\n        Object.defineProperty(HTMLFormElement.prototype, 'method', methodDescriptor);\n      }\n    }\n\n    /**\n     * Global 'click' handler, to capture the <input type=\"submit\"> or <button> element which has\n     * submitted a <form method=\"dialog\">. Needed as Safari and others don't report this inside\n     * document.activeElement.\n     */\n    document.addEventListener('click', function(ev) {\n      dialogPolyfill.formSubmitter = null;\n      dialogPolyfill.useValue = null;\n      if (ev.defaultPrevented) { return; }  // e.g. a submit which prevents default submission\n\n      var target = /** @type {Element} */ (ev.target);\n      if (!target || !isFormMethodDialog(target.form)) { return; }\n\n      var valid = (target.type === 'submit' && ['button', 'input'].indexOf(target.localName) > -1);\n      if (!valid) {\n        if (!(target.localName === 'input' && target.type === 'image')) { return; }\n        // this is a <input type=\"image\">, which can submit forms\n        dialogPolyfill.useValue = ev.offsetX + ',' + ev.offsetY;\n      }\n\n      var dialog = findNearestDialog(target);\n      if (!dialog) { return; }\n\n      dialogPolyfill.formSubmitter = target;\n    }, false);\n\n    /**\n     * Replace the native HTMLFormElement.submit() method, as it won't fire the\n     * submit event and give us a chance to respond.\n     */\n    var nativeFormSubmit = HTMLFormElement.prototype.submit;\n    function replacementFormSubmit() {\n      if (!isFormMethodDialog(this)) {\n        return nativeFormSubmit.call(this);\n      }\n      var dialog = findNearestDialog(this);\n      dialog && dialog.close();\n    }\n    HTMLFormElement.prototype.submit = replacementFormSubmit;\n\n    /**\n     * Global form 'dialog' method handler. Closes a dialog correctly on submit\n     * and possibly sets its return value.\n     */\n    document.addEventListener('submit', function(ev) {\n      var form = /** @type {HTMLFormElement} */ (ev.target);\n      if (!isFormMethodDialog(form)) { return; }\n      ev.preventDefault();\n\n      var dialog = findNearestDialog(form);\n      if (!dialog) { return; }\n\n      // Forms can only be submitted via .submit() or a click (?), but anyway: sanity-check that\n      // the submitter is correct before using its value as .returnValue.\n      var s = dialogPolyfill.formSubmitter;\n      if (s && s.form === form) {\n        dialog.close(dialogPolyfill.useValue || s.value);\n      } else {\n        dialog.close();\n      }\n      dialogPolyfill.formSubmitter = null;\n    }, true);\n  }\n\n  dialogPolyfill['forceRegisterDialog'] = dialogPolyfill.forceRegisterDialog;\n  dialogPolyfill['registerDialog'] = dialogPolyfill.registerDialog;\n\n  if (typeof define === 'function' && 'amd' in define) {\n    // AMD support\n    define(function() { return dialogPolyfill; });\n  } else if (typeof module === 'object' && typeof module['exports'] === 'object') {\n    // CommonJS support\n    module['exports'] = dialogPolyfill;\n  } else {\n    // all others\n    window['dialogPolyfill'] = dialogPolyfill;\n  }\n})();\n","import dialogPolyfill from 'dialog-polyfill';\nimport '../css/style.css';\nimport resourseLoad from './addResources.js';\nimport Sprite from './classSprite.js';\nimport Enemy from './classEnemy.js';\nimport Player from './classPlayer.js';\nimport Hit from './classHit.js';\nimport Task from './classTask.js';\nimport random from './random.js';\n\nresourseLoad();\n\n// I get the elements from the house, which are involved in the game\n\nconst buttomStart = document.getElementById('start__game');\nconst screenStart = document.getElementById('start__screen');\nconst screenDuel = document.getElementById('duil__screen');\nconst progressHealthPlayer = document.getElementById('player__health__progress');\nconst progressHealthEnemy = document.getElementById('enemy__health__progress');\n\nconst removeAddContent = (content) => {\n    content.classList.toggle('remove');\n};\n\n// A cross-browser requestAnimationFrame\n\nconst requestAnimFrame = (function () {\n    return window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.oRequestAnimationFrame ||\n        window.msRequestAnimationFrame ||\n        function (callback) {\n            window.setTimeout(callback, 1000 / 60);\n        };\n}());\n\n// Create canvas and add to the DOM\n\nconst gameArea = document.getElementById('main__state__duel');\nconst blockHit = document.getElementById('block__hit');\n\nconst canvas = document.createElement('canvas');\nconst ctx = canvas.getContext('2d');\ncanvas.width = 500;\ncanvas.height = 500;\ngameArea.appendChild(canvas);\n\nconst canvas2 = document.createElement('canvas');\nconst ctx2 = canvas2.getContext('2d');\ncanvas2.width = 500;\ncanvas2.height = 500;\ngameArea.appendChild(canvas2);\n\nconst canvasHit = document.createElement('canvas');\nconst ctxHit = canvasHit.getContext('2d');\ncanvasHit.width = 500;\ncanvasHit.height = 200;\nblockHit.appendChild(canvasHit);\n\n// listening to resize events and change of size canvas\n\nfunction resize() {\n    const scrollbar = 26;\n    canvas.width = (window.innerWidth / 2) - (scrollbar / 2);\n    canvas.height = window.innerHeight - 150;\n    canvas2.width = (window.innerWidth / 2) - (scrollbar / 2);\n    canvas2.height = window.innerHeight - 150;\n    canvasHit.width = (window.innerWidth / 2) + 140;\n}\n\nwindow.addEventListener('resize', resize);\nresize();\n\n// Download sprites and add to the cache for later use\n\nwindow.resources.load([\n    './img/sprite-boy.png',\n    './img/enemies.png',\n    './img/hitFire.png',\n    './img/hitVortex.png',\n    './img/hitHurricane.png',\n    './img/hitSnowfall.png',\n    './img/hitStarfall.png',\n]);\n\n// Create a player using the class Player\n\nconst player = new Player(\n    'Неизвестный герой',\n    [-100, canvas.height - 340],\n    new Sprite('./img/sprite-boy.png', [0, 0], [220, 300], 6, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 0], true),\n    0,\n    100,\n);\n\nconsole.log(player);\n\n// Create a enemy using the class Enemy:\n// 1) getting a name randomly from an array of names\n// 2) creating an enemy randomly by choosing the position of the sprite with different parts\n\nconst enemyFirstName = ['Злая', 'Ужасная', 'Вредная', 'Сопливая', 'Ворчливая'];\nconst enemySecondName = ['Ведьма', 'Колдунья', 'Старуха', 'Разбойница', 'Страшила'];\nconst enemyThirdName = ['Пука', 'Кака', 'Чиха', 'Хлюпа', 'Блин'];\n\nfunction getEnemyName() {\n    const randomFirstName = random(enemyFirstName.length);\n    const randomSecondName = random(enemySecondName.length);\n    const randomThirdName = random(enemyThirdName.length);\n    const fullEnemyNamy = `${enemyFirstName[randomFirstName]} ${enemySecondName[randomSecondName]} ${enemyThirdName[randomThirdName]}`;\n    return fullEnemyNamy;\n}\n\nconst enemyNameBlock = document.getElementById('enemy__name');\n\nconst enemy = new Enemy(\n    getEnemyName(),\n    new Sprite('./img/enemies.png', [random(3) * 227, 900], [227, 180], 0, [0, 1], [canvas2.width - 340, canvas2.height - 170]),\n    new Sprite('./img/enemies.png', [random(3) * 227, 720], [227, 180], 0, [0, 1], [canvas2.width - 335, canvas2.height - 230]),\n    new Sprite('./img/enemies.png', [random(3) * 227, 540], [227, 180], 0, [0, 1], [canvas2.width - 340, canvas2.height - 230]),\n    new Sprite('./img/enemies.png', [random(3) * 227, 360], [227, 180], 0, [0, 1], [canvas2.width - 340, canvas2.height - 230]),\n    new Sprite('./img/enemies.png', [random(3) * 227, 180], [227, 180], 0, [0, 1], [canvas2.width - 300, canvas2.height - 365]),\n    new Sprite('./img/enemies.png', [random(3) * 227, 0], [227, 180], 0, [0, 1], [canvas2.width - 335, canvas2.height - 280])\n);\nenemy.addEnemyName(enemyNameBlock);\n\nconsole.log(enemy);\nconsole.log(progressHealthPlayer);\n\n// Create a task using the class Task:\n\nconst task = new Task();\n\n// Create a spell using the class Hit:\n\nconst hit = new Hit(\n    'name',\n    [0, 0],\n    new Sprite('./img/hitFire.png', [0, 0], [129, 128], 15, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [50, 50], true),\n);\n\nconsole.log(hit);\n\nbuttomStart.addEventListener('click', () => {\n    removeAddContent(screenStart);\n    removeAddContent(screenDuel);\n    init();\n});\n\nconst screenModal = document.getElementById('dialog__modal');\nconst modalNamePlayer = document.getElementById('modal__name__player');\nconst modalNameEnemy = document.getElementById('modal__name__enemy');\nconst managmentHit = document.getElementById('managment__hit');\n\nconst screenTask = document.getElementById('task__screen');\nconst taskAnswer = document.getElementById('task__answer');\nconst buttonAnswer = document.getElementById('button__answer');\n\nwindow.dialogPolyfill = dialogPolyfill;\ndialogPolyfill.registerDialog(screenModal);\n\nfunction addNamesForModal() {\n    modalNamePlayer.innerHTML = player.name;\n    modalNameEnemy.innerHTML = enemy.name;\n}\n\nfunction addHitForManagment(elementHit) {\n    console.log(managmentHit);\n    managmentHit.id = elementHit;\n}\n\nfunction openScreenModal() {\n    function openModel() {\n        screenModal.showModal();\n    }\n    setTimeout(openModel, 6000);\n}\n\nfunction openScreenTask() {\n    function openTask() {\n        removeAddContent(screenTask);\n        task.translation();\n        task.addTask();\n    }\n    setTimeout(openTask, 2000);\n}\n\nfunction createHit(image) {\n    hit.sprite.url = `./img/${image}.png`;\n}\n\nlet imageForHit;\nscreenModal.addEventListener('click', (e) => {\n    if (e.target && e.target.matches('div.hit__icon')) {\n        imageForHit = e.target.id;\n        addHitForManagment(imageForHit);\n        console.log(`Element clicked!${imageForHit}`);\n        screenModal.close();\n        createHit(imageForHit);\n        openScreenTask();\n        return imageForHit;\n    }\n});\n\nconsole.log(imageForHit);\n\nfunction closeBlockHit() {\n    function closeHit() {\n        removeAddContent(blockHit);\n    }\n    setTimeout(closeHit, 5500);\n}\n\nfunction changeHealth(num, element, person) {\n    const count = person.health - num;\n    const id = setInterval(frame, 260);\n    function frame() {\n        if (person.health <= (count)) {\n            clearInterval(id);\n        } else if (person.health > 0) {\n            person.health--;\n            element.style.width = `${person.health}%`;\n            element.innerHTML = `${person.health * 1}hp`;\n            if (person.health === num) {\n                person.isAlive = false;\n            }\n            return person.health;\n        } else {\n            clearInterval(id);\n        }\n    }\n}\n\n// If player dies:\n\nconst screenScore = document.getElementById('screen__score');\n\nfunction showScreenScore() {\n    function showScore() {\n        removeAddContent(screenScore);\n    }\n    setTimeout(showScore, 6500);\n}\n\nconst bubbleSort = (array) => {\n    const newLocal = array.length;\n    const leng = newLocal;\n    for (let i = 0; i < leng - 1; i++) {\n        for (let j = 0; j < leng - 1 - i; j++) {\n            if (array[j + 1][1] > array[j][1]) {\n                [array[j + 1], array[j]] = [array[j], array[j + 1]];\n            }\n        }\n    }\n    return array;\n};\n\nconst getScores = () => {\n    let allPlayers = [];\n    const leng = localStorage.length;\n    for (let i = 0; i < leng; i++) {\n        if (localStorage.key(i).substr(0, 6) === 'player') {\n            allPlayers.push(localStorage.getItem(localStorage.key(i)).split(','));\n        }\n    }\n    for (let i = 0; i < allPlayers.length; i++) {\n        allPlayers[i][1] = Number(allPlayers[i][1]);\n    }\n    allPlayers = bubbleSort(allPlayers).slice(0, 10);\n    return allPlayers;\n};\n\nconst createScoresTable = () => {\n    const recordsArray = getScores();\n    const recordsTable = document.getElementById('records__table');\n    for (let i = 0; i < recordsArray.length; i++) {\n        const tableRow = document.createElement('tr');\n        const playerName = document.createElement('td');\n        const playerScore = document.createElement('td');\n\n        const player = recordsArray[i];\n        const name = player[0];\n        const score = player[1];\n\n        playerName.textContent = name;\n        playerScore.textContent = score;\n        tableRow.appendChild(playerName);\n        tableRow.appendChild(playerScore);\n        recordsTable.appendChild(tableRow);\n    }\n};\n\nfunction isPlayerDies() {\n    showScreenScore();\n    createScoresTable();\n    console.log('game over');\n}\n\n// If player dies:\n\nconst createNewEnemy = () => {\n    enemy.name = getEnemyName();\n    enemy.legs.pos = [random(3) * 227, 900];\n    enemy.rightArm.pos = [random(3) * 227, 720];\n    enemy.body.pos = [random(3) * 227, 540];\n    enemy.leftArm.pos = [random(3) * 227, 360];\n    enemy.head.pos = [random(3) * 227, 180];\n    enemy.weapons.pos = [random(3) * 227, 0];\n    enemy.health = 100;\n    enemy.isAlive = true;\n    enemy.addEnemyName(enemyNameBlock);\n    progressHealthEnemy.innerHTML = `${enemy.health}hp`;\n    progressHealthEnemy.style.width = `${enemy.health}%`;\n    return enemy;\n};\n\nconst isEnemyDies = () => {\n    function newEnemy() {\n        createNewEnemy();\n        addNamesForModal();\n        openScreenModal();\n    }\n    setTimeout(newEnemy, 6000);\n\n};\n\n// Solve tasks\n\nfunction nextTask() {\n    if (!player.isAlive) {\n        player.setLocalsorage();\n        isPlayerDies();\n    } else if (!enemy.isAlive) {\n        player.record += 1;\n        isEnemyDies();\n    } else {\n        openScreenModal();\n    }\n}\n\nconst removeScreeTask = () => {\n    function screeTask() {\n        removeAddContent(screenTask);\n        resultAnswer.innerHTML = '';\n    }\n    setTimeout(screeTask, 1000);\n};\n\nconst resultAnswer = document.getElementById('result__answer');\n\nconst showResultAnswer = () => {\n    resultAnswer.innerHTML = 'Молодец!';\n    resultAnswer.classList.toggle('answer__correct');\n};\n\nbuttonAnswer.addEventListener('click', () => {\n    removeAddContent(blockHit);\n    task.answer = taskAnswer.value.toString();\n    if (task.correctAnswer.some(value => value === task.answer)) {\n        console.log('yes');\n        showResultAnswer();\n        resultAnswer.innerHTML = 'Молодец!';\n        hit.winner = 'player';\n        hit.pos[0] = 0;\n        changeHealth(hit.points, progressHealthEnemy, enemy);\n    } else {\n        showResultAnswer();\n        resultAnswer.innerHTML = 'Ошибочка!';\n        hit.winner = 'enemy';\n        hit.pos[0] = canvasHit.width - 150;\n        changeHealth(hit.points, progressHealthPlayer, player);\n        console.log(player.health);\n    }\n    taskAnswer.value = '';\n    removeScreeTask();\n    closeBlockHit();\n    nextTask();\n});\n\n// The main game loop\n\nlet lastTime;\nlet dt;\nfunction main() {\n    const now = Date.now();\n    dt = (now - lastTime) / 1000.0;\n    update(dt);\n    render();\n    animatePlayer(dt);\n    hit.animateHit(dt, canvasHit);\n    enemy.animateEnemy(dt);\n    lastTime = now;\n    requestAnimFrame(main);\n}\n\nconst playerNameBlock = document.getElementById('player__name');\n\nfunction init() {\n    lastTime = Date.now();\n    main();\n    player.addPlayerName(playerNameBlock);\n    console.log(player.name);\n    addNamesForModal();\n    openScreenModal();\n}\n\n// Update player and hit sprite animation\nfunction update(dt) {\n    player.sprite.update(dt);\n    hit.sprite.update(dt);\n}\n\n// Render player, enemy and hit sprite\nfunction render() {\n    renderEntity(player);\n    renderEnemy(enemy);\n    renderHit(hit);\n}\nconsole.log(player.sprite.url);\n\nfunction addPlayer() {\n    player.sprite.pos = [0, 300];\n    player.sprite.frames = [0, 1, 2, 3, 4, 5];\n    player.sprite.speed = 3;\n}\n\nconst playerSpeed = 100;\n\nfunction animatePlayer(dt) {\n    if (player.pos[0] < canvas.width / 4) {\n        player.pos[0] += playerSpeed * dt;\n    } else {\n        addPlayer();\n    }\n}\n\nfunction renderEntity(entity) {\n    ctx.save();\n    ctx.translate(entity.pos[0], entity.pos[1]);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    entity.sprite.render(ctx);\n    ctx.restore();\n}\n\nfunction renderEnemy(entity) {\n    ctx2.save();\n    ctx2.clearRect(0, 0, canvas2.width, canvas2.height);\n    entity.legs.render(ctx2);\n    entity.rightArm.render(ctx2);\n    entity.body.render(ctx2);\n    entity.leftArm.render(ctx2);\n    entity.head.render(ctx2);\n    entity.weapons.render(ctx2);\n    ctx2.restore();\n}\n\nfunction renderHit(entity) {\n    ctxHit.save();\n    ctxHit.translate(entity.pos[0], entity.pos[1]);\n    ctxHit.clearRect(0, 0, canvasHit.width, canvasHit.height);\n    entity.sprite.render(ctxHit);\n    ctxHit.restore();\n}\n"],"sourceRoot":""}